# 🎨 Графическая схема иерархии страниц

## 📊 Общая структура системы

```
┌─────────────────────────────────────────────────────────────────────────┐
│                        🏠 PRODUCTION GANTT SYSTEM                      │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                              🏠 ГЛАВНАЯ                                │
│                        (Приветственная страница)                       │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                           📋 ОСНОВНЫЕ РАЗДЕЛЫ                          │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                    ┌───────────────┼───────────────┐
                    │               │               │
                    ▼               ▼               ▼
            ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
            │ 📁 ПРОЕКТЫ  │ │ 📚 СПРАВОЧ- │ │ 👥 РУКОВОДИ-│
            │             │ │    НИКИ     │ │    ТЕЛИ     │
            └─────────────┘ └─────────────┘ └─────────────┘
                    │               │               │
                    ▼               ▼               ▼
            ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
            │ 💼 ИСПОЛНИ- │ │ ⚙️ АДМИН     │ │             │
            │    ТЕЛИ     │ │   ПАНЕЛЬ    │ │             │
            └─────────────┘ └─────────────┘ └─────────────┘
```

## 🔄 Детальная навигационная схема

```
🏠 ГЛАВНАЯ
│
├── 📁 ПРОЕКТЫ
│   │
│   └── 📋 Карточка проекта (двойной клик)
│       │
│       ├── 📊 Спецификация (кнопка)
│       │
│       ├── 📝 Список спецификаций
│       │
│       └── ⚡ Этапы работ
│
├── 📚 СПРАВОЧНИКИ
│   │
│   ├── 🏷️ Номенклатура (двухколоночный интерфейс)
│   │   ├── Товары
│   │   ├── Услуги
│   │   └── Работы
│   │
│   ├── 🏢 Контрагенты
│   │   ├── Поставщики
│   │   ├── Подрядчики
│   │   └── Производители
│   │
│   ├── 👤 Физические лица
│   │   └── Связаны с пользователями
│   │
│   ├── 📏 Единицы измерения
│   │
│   └── 🏷️ Виды номенклатуры
│
├── 👥 РУКОВОДИТЕЛИ
│
├── 💼 ИСПОЛНИТЕЛИ
│
└── ⚙️ АДМИН ПАНЕЛЬ (только админы)
    └── 👥 Управление пользователями
```

## 🎯 Схема типов данных и связей

```
📊 ТИПЫ ДАННЫХ
│
├── 🏷️ НОМЕНКЛАТУРА
│   │
│   ├── 📦 Тип (enum)
│   │   ├── Product (Товар)
│   │   ├── Service (Услуга)
│   │   └── Work (Работа)
│   │
│   ├── 🏷️ Вид → NomenclatureKind
│   │
│   ├── 📁 Группа (иерархическая)
│   │
│   └── 📏 Единица → Unit
│
└── 👤 ПОЛЬЗОВАТЕЛИ
    │
    ├── 🔑 Роли
    │   ├── admin
    │   ├── manager
    │   └── user
    │
    ├── 🔗 Связь: User ↔ Person
    │
    └── ⚡ Права
        ├── canEdit
        ├── canCreate
        └── canDelete
```

## 🎨 Компонентная архитектура

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          🎨 FRONTEND LAYER                             │
├─────────────────────────────────────────────────────────────────────────┤
│  React + TypeScript + Material-UI + Drag & Drop                       │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │   VolumeButton  │  │   PhoneInput    │  │   PageHeader    │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │  DndContext     │  │  SortableContext│  │  FormControl    │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                           🔌 API LAYER                                 │
├─────────────────────────────────────────────────────────────────────────┤
│  Express.js + Prisma + Zod + JWT                                       │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │   Auth Routes   │  │  Project Routes │  │  Nomenclature   │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │  Reference APIs │  │  User Management│  │  Specifications │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                          🗄️ DATABASE LAYER                             │
├─────────────────────────────────────────────────────────────────────────┤
│  SQLite + Prisma ORM                                                   │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │   Projects      │  │  Nomenclature   │  │    Users        │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │  Specifications │  │  References     │  │  Work Stages    │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
└─────────────────────────────────────────────────────────────────────────┘
```

## 🚀 Потоки взаимодействия

```
👤 ПОЛЬЗОВАТЕЛЬ
    │
    ▼
🔐 АВТОРИЗАЦИЯ
    │
    ▼
🏠 ГЛАВНАЯ СТРАНИЦА
    │
    ▼
📋 ВЫБОР РАЗДЕЛА
    │
    ├── 📁 Проекты → Карточка проекта → Спецификации
    │
    ├── 📚 Справочники → Подразделы → CRUD операции
    │
    ├── 👥 Руководители → Управление PM
    │
    ├── 💼 Исполнители → Управление подрядчиками
    │
    └── ⚙️ Админ панель → Управление пользователями
```

## 🎯 Принципы архитектуры

```
┌─────────────────────────────────────────────────────────────────────────┐
│                           🏗️ АРХИТЕКТУРНЫЕ ПРИНЦИПЫ                   │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  🔄 1C-подобная архитектура справочников                               │
│     ├── Иерархические группы                                           │
│     ├── Типизированные элементы                                        │
│     └── Связанные справочники                                          │
│                                                                         │
│  🔐 Ролевая модель доступа                                             │
│     ├── admin - полный доступ                                          │
│     ├── manager - управление проектами                                 │
│     └── user - просмотр                                                │
│                                                                         │
│  🎨 Единообразный UI/UX                                                │
│     ├── Material-UI компоненты                                         │
│     ├── Двойной клик для редактирования                                │
│     ├── Drag & Drop для переупорядочивания                             │
│     └── Красные корзинки для удаления                                  │
│                                                                         │
│  📱 Адаптивный дизайн                                                  │
│     ├── Flexbox layouts                                                │
│     ├── Responsive tables                                              │
│     └── Mobile-friendly dialogs                                        │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---
*Схема создана: $(Get-Date -Format "dd.MM.yyyy HH:mm")*
